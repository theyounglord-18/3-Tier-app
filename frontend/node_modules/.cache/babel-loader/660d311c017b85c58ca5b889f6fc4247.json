{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=`${process.env.REACT_APP_API_URL}/api/todos`;const TodoApp=()=>{const[todos,setTodos]=useState([]);const[title,setTitle]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');// Fetch todos\nconst fetchTodos=async()=>{setLoading(true);setError('');try{const res=await fetch(API_URL);if(!res.ok)throw new Error('Failed to fetch todos');const data=await res.json();setTodos(data);}catch(err){setError(err.message);}setLoading(false);};useEffect(()=>{fetchTodos();},[]);// Add todo\nconst addTodo=async e=>{e.preventDefault();setError('');if(!title.trim())return;try{const res=await fetch(`${process.env.REACT_APP_API_URL}/api/todos`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({title})});if(!res.ok){const errData=await res.json();throw new Error(errData.error||'Failed to add todo');}setTitle('');fetchTodos();}catch(err){setError(err.message);}};// Toggle todo\nconst toggleTodo=async id=>{setError('');try{const res=await fetch(`${API_URL}/${id}/toggle`,{method:'PATCH'});if(!res.ok)throw new Error('Failed to toggle todo');fetchTodos();}catch(err){setError(err.message);}};// Delete todo\nconst deleteTodo=async id=>{setError('');try{const res=await fetch(`${API_URL}/${id}`,{method:'DELETE'});if(!res.ok)throw new Error('Failed to delete todo');fetchTodos();}catch(err){setError(err.message);}};return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:400,margin:'2rem auto',padding:20,border:'1px solid #ccc',borderRadius:8},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Todo App\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addTodo,style:{marginBottom:20},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:e=>setTitle(e.target.value),placeholder:\"Add a new todo\",style:{width:'70%',padding:8}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{padding:8,marginLeft:8},children:\"Add\"})]}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:'none',padding:0},children:todos.map(todo=>/*#__PURE__*/_jsxs(\"li\",{style:{marginBottom:10,display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"span\",{onClick:()=>toggleTodo(todo._id),style:{textDecoration:todo.completed?'line-through':'none',cursor:'pointer',flex:1},children:todo.title}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteTodo(todo._id),style:{marginLeft:10},children:\"Delete\"})]},todo._id))})]});};export default TodoApp;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","TodoApp","todos","setTodos","title","setTitle","loading","setLoading","error","setError","fetchTodos","res","fetch","ok","Error","data","json","err","message","addTodo","e","preventDefault","trim","method","headers","body","JSON","stringify","errData","toggleTodo","id","deleteTodo","style","maxWidth","margin","padding","border","borderRadius","children","onSubmit","marginBottom","type","value","onChange","target","placeholder","width","marginLeft","color","listStyle","map","todo","display","alignItems","onClick","_id","textDecoration","completed","cursor","flex"],"sources":["C:/Docker-todo-app/frontend/src/components/TodosApp.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nconst API_URL = `${process.env.REACT_APP_API_URL}/api/todos`;\r\n\r\n\r\nconst TodoApp = () => {\r\n    const [todos, setTodos] = useState([]);\r\n    const [title, setTitle] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n\r\n    // Fetch todos\r\n    const fetchTodos = async () => {\r\n        setLoading(true);\r\n        setError('');\r\n        try {\r\n            const res = await fetch(API_URL);\r\n            if (!res.ok) throw new Error('Failed to fetch todos');\r\n            const data = await res.json();\r\n            setTodos(data);\r\n        } catch (err) {\r\n            setError(err.message);\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchTodos();\r\n    }, []);\r\n\r\n    // Add todo\r\n    const addTodo = async (e) => {\r\n        e.preventDefault();\r\n        setError('');\r\n        if (!title.trim()) return;\r\n        try {\r\n            const res = await fetch(`${process.env.REACT_APP_API_URL}/api/todos`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ title }),\r\n            });\r\n            if (!res.ok) {\r\n                const errData = await res.json();\r\n                throw new Error(errData.error || 'Failed to add todo');\r\n            }\r\n            setTitle('');\r\n            fetchTodos();\r\n        } catch (err) {\r\n            setError(err.message);\r\n        }\r\n    };\r\n\r\n    // Toggle todo\r\n    const toggleTodo = async (id) => {\r\n        setError('');\r\n        try {\r\n            const res = await fetch(`${API_URL}/${id}/toggle`, { method: 'PATCH' });\r\n            if (!res.ok) throw new Error('Failed to toggle todo');\r\n            fetchTodos();\r\n        } catch (err) {\r\n            setError(err.message);\r\n        }\r\n    };\r\n\r\n    // Delete todo\r\n    const deleteTodo = async (id) => {\r\n        setError('');\r\n        try {\r\n            const res = await fetch(`${API_URL}/${id}`, { method: 'DELETE' });\r\n            if (!res.ok) throw new Error('Failed to delete todo');\r\n            fetchTodos();\r\n        } catch (err) {\r\n            setError(err.message);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ maxWidth: 400, margin: '2rem auto', padding: 20, border: '1px solid #ccc', borderRadius: 8 }}>\r\n            <h2>Todo App</h2>\r\n            <form onSubmit={addTodo} style={{ marginBottom: 20 }}>\r\n                <input\r\n                    type=\"text\"\r\n                    value={title}\r\n                    onChange={e => setTitle(e.target.value)}\r\n                    placeholder=\"Add a new todo\"\r\n                    style={{ width: '70%', padding: 8 }}\r\n                />\r\n                <button type=\"submit\" style={{ padding: 8, marginLeft: 8 }}>Add</button>\r\n            </form>\r\n            {error && <p style={{ color: 'red' }}>{error}</p>}\r\n            {loading ? (\r\n                <p>Loading...</p>\r\n            ) : (\r\n                <ul style={{ listStyle: 'none', padding: 0 }}>\r\n                    {todos.map(todo => (\r\n                        <li key={todo._id} style={{ marginBottom: 10, display: 'flex', alignItems: 'center' }}>\r\n                            <span\r\n                                onClick={() => toggleTodo(todo._id)}\r\n                                style={{\r\n                                    textDecoration: todo.completed ? 'line-through' : 'none',\r\n                                    cursor: 'pointer',\r\n                                    flex: 1,\r\n                                }}\r\n                            >\r\n                                {todo.title}\r\n                            </span>\r\n                            <button onClick={() => deleteTodo(todo._id)} style={{ marginLeft: 10 }}>Delete</button>\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TodoApp;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}